# ========================================
# アゲアゲくん 運用環境設定テンプレート
# ========================================
# このファイルを .env にリネームして使用してください
# 各設定値は運用環境に合わせて変更してください
# ========================================

# ====================
# データベース設定
# ====================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ageagekun
DB_USER=postgres
# ⚠️ 以下のパスワードを必ず変更してください
DB_PASSWORD=YOUR_PASSWORD_HERE

# ====================
# サーバー設定
# ====================
# ポート番号（デフォルト: 3000）
PORT=3000

# 環境設定（production固定）
NODE_ENV=production

# リッスンアドレス（0.0.0.0 = 全ネットワークインターフェース）
HOST=0.0.0.0

# ====================
# CORS設定
# ====================
# 許可するオリジン（複数の場合はカンマ区切り）
# 例: http://192.168.0.10:3000,http://192.168.0.11:3000
# ローカルネットワーク内のみの場合は具体的なIPを指定
CORS_ORIGIN=http://192.168.0.10:3000

# ====================
# Azure OpenAI API設定
# ====================
# AIプロバイダー（azure固定）
AI_PROVIDER=azure

# ⚠️ 以下のAPIキーを必ず設定してください
AZURE_OPENAI_API_KEY=YOUR_API_KEY_HERE

# エンドポイント（リージョンに応じて変更）
AZURE_OPENAI_ENDPOINT=https://YOUR_RESOURCE.openai.azure.com

# デプロイメント名
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4o-mini

# APIバージョン
AZURE_OPENAI_API_VERSION=2024-10-21

# 生成温度（0.0-1.0: 低いほど確定的）
OPENAI_TEMPERATURE=0.3

# ====================
# 医療機関情報
# ====================
# 実際の医療機関情報に変更してください
CLINIC_NAME=医療機関名
DOCTOR_NAME=医師名
CLINIC_ADDRESS=医療機関住所

# ====================
# PDF生成設定
# ====================
# フォント設定
PDF_FONT_FAMILY=Yu Gothic

# ページサイズ
PDF_PAGE_SIZE=A4

# マージン設定
PDF_MARGIN_TOP=20mm
PDF_MARGIN_RIGHT=15mm
PDF_MARGIN_BOTTOM=20mm
PDF_MARGIN_LEFT=15mm

# ====================
# ログ設定
# ====================
# ログレベル（error, warn, info, debug）
LOG_LEVEL=info

# ログフォーマット（json, simple）
LOG_FORMAT=json

# ====================
# セキュリティ設定
# ====================
# API制限設定
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# エラー詳細表示（本番環境では false 推奨）
SHOW_ERROR_DETAILS=false

# ====================
# ファイルパス設定
# ====================
# 患者ファイル保存先（絶対パスまたは相対パス）
PATIENTS_DIR=./patients

# バッチ印刷ファイル保存先
BATCH_PRINTS_DIR=./batch_prints

# アップロード済みファイル保存先
UPLOADED_DIR=./patients/uploaded

# ====================
# メンテナンス設定
# ====================
# 自動バックアップ（有効: true, 無効: false）
AUTO_BACKUP_ENABLED=false

# バックアップ間隔（時間単位）
BACKUP_INTERVAL_HOURS=24

# バックアップ保存先
BACKUP_DIR=./backups

# 古いバックアップの保持日数
BACKUP_RETENTION_DAYS=30

# ========================================
# 設定完了チェックリスト
# ========================================
# [ ] DB_PASSWORD を設定した
# [ ] AZURE_OPENAI_API_KEY を設定した
# [ ] AZURE_OPENAI_ENDPOINT を設定した
# [ ] CORS_ORIGIN を運用環境のIPに変更した
# [ ] CLINIC_NAME, DOCTOR_NAME, CLINIC_ADDRESS を設定した
# [ ] LOG_LEVEL を production 用に設定した
# [ ] SHOW_ERROR_DETAILS を false に設定した
# ========================================